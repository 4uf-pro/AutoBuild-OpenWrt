############################################################
### Target Board Selection
############################################################
### Device: Xiaomi AC1200 (RB02) - Uses R4Av2 hardware profile
### Platform: ramips/mt7621 | Flash: 16MB | RAM: 128MB
### Note: Same hardware as R4Av2, different 5GHz chip
############################################################
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_xiaomi_mi-router-4a-gigabit-v2=y

############################################################
### Kernel Optimization
############################################################
CONFIG_STRIP_KERNEL_EXPORTS=y
CONFIG_TARGET_OPTIMIZATION="-Os -pipe -mtune=mips32r2"

############################################################
### Wireless Drivers
############################################################
### 2.4GHz: MediaTek MT7603
### 5GHz: MediaTek MT7663 (RB02)
############################################################
CONFIG_PACKAGE_kmod-mt7603=y
CONFIG_PACKAGE_kmod-mt7615e=y
CONFIG_PACKAGE_kmod-mt7615-firmware-mt7663=y
CONFIG_PACKAGE_wpad-mesh-openssl=y

############################################################
### Network Core Services
############################################################
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_ipset=y
CONFIG_PACKAGE_dnsmasq_full_nftset=y
CONFIG_PACKAGE_odhcpd-ipv6only=y

############################################################
### DNS & Security
############################################################
CONFIG_PACKAGE_https-dns-proxy=y
CONFIG_PACKAGE_luci-app-https-dns-proxy=y
CONFIG_PACKAGE_zapret=y
CONFIG_PACKAGE_luci-app-zapret=y

############################################################
### Network Filtering (nftables)
############################################################
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nf-tproxy=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_libnftnl=y
CONFIG_PACKAGE_kmod-nf-nat=y

### Full Cone NAT (better for gaming and VoIP)
CONFIG_PACKAGE_kmod-nft-fullcone=y

### Hardware Watchdog (auto-reboot on hangs)
CONFIG_PACKAGE_watchdog=y

############################################################
### VPN
############################################################
CONFIG_PACKAGE_luci-app-wireguard=y
CONFIG_PACKAGE_kmod-wireguard=y

############################################################
### Quality of Service
############################################################
CONFIG_PACKAGE_kmod-sched-cake=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_tc-full=y

############################################################
### Web Interface (LuCI)
############################################################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-i18n-base-ru=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-theme-material=y

############################################################
### System Security & Monitoring
############################################################
### SSH Security
CONFIG_PACKAGE_dropbear=y
CONFIG_DROPBEAR_CURVE25519=y
CONFIG_DROPBEAR_ED25519=y
CONFIG_DROPBEAR_DH_GROUP14_SHA256=y
CONFIG_DROPBEAR_DH_GROUP14_SHA1=n
CONFIG_DROPBEAR_DH_GROUP1=n

### Network Diagnostics
CONFIG_PACKAGE_iputils-ping=y
CONFIG_PACKAGE_iputils-ping6=y
CONFIG_PACKAGE_iputils-traceroute=y
CONFIG_PACKAGE_iputils-traceroute6=y

### System Monitoring
CONFIG_PACKAGE_top=y
CONFIG_PACKAGE_vmstat=y
CONFIG_PACKAGE_bmon=y

### Memory Optimization
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-lib-lz4=y
CONFIG_PACKAGE_kmod-lib-lzo=y
CONFIG_PACKAGE_kmod-zram=y
CONFIG_PACKAGE_zstd=y
CONFIG_PACKAGE_irqbalance=y

### Basic Utilities
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_openssh-sftp-server=y